<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="copyright" content="Copyright (c) 2007, 2012 EclipseSource. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Writing a Hello World with RAP</title>
  <link rel="stylesheet" href="../../../../PRODUCT_PLUGIN/book.css" type="text/css"/>
</head>
<body>

  <h1>Writing a Hello World with RAP</h1>
  <p>
    This document describes how to quickly create and launch a first user interface with RAP.
    Developing an entire application involves more steps, that depend on the type of
    <a href = "../advanced/application-setup.html">application setup</a> you choose.
    These steps are explained in the part on application development.
    If you want to create a Workbench-based application, start with a template instead
    (see <a href = "../examples.html">Examples</a>).
  </p>

  <h2>Preconditions</h2>
  <ul>
    <li><a href="setup-ide.html">the RAP Tools are installed</a></li>
    <li><a href="target-install.html">a RAP target platform is installed and active</a></li>
  </ul>

  <h2>Create a new project</h2>
  <p>
    First we need a project for our application.
    We create a <em>plug-in project</em> because that's the type of projects used for developing
    OSGi bundles with PDE.
    From the menu, select <em class="UILabel">File &gt; New &gt; Plug-in Project</em>.
    Let's call the plug-in <code>org.example.rap.helloworld</code>.
    In the <em class="UILabel">Target Platform</em> box, choose
    <em class="UILabel">an OSGi framework</em> and <em class="UILabel">standard</em> to create a
    bundle that is compatible with any OSGi framework.
  </p>
  <img src="../../images/hello-world/NewProject-1.png" alt="New Project Wizard"/>
  <p>
    On the second page of the wizard, disable the option
    <em class="UILabel">Generate an activator, …</em>.
    This would create a bundle activator, but we don't need that now.
  </p>
  <img src="../../images/hello-world/NewProject-2.png" alt="New Project Wizard"/>

  <h2>Add a dependency to RWT</h2>
  <p>
    To display some widgets, we need a dependency to the RAP widget toolkit (RWT), which is RAP's
    implementation of SWT.
    It is contained in the plug-in <code>org.eclipse.rap.rwt</code>.
    To add this dependency, open the bundle manifest file <code>META-INF/MANIFEST.MF</code>.
    In the <em>Plug-in Manifest Editor</em>, go to the <em class="UILabel">Dependencies</em> page.
    Add <code>org.eclipse.rap.rwt</code> to the list of <em class="UILabel">Required Plug-ins</em>
    and save.
  </p>

  <h2>Create an entrypoint</h2>
  <p>
    Every RAP application needs an entrypoint that creates the initial UI of the application.
    An entrypoint is a class that implements the interface <em>IEntryPoint</em>.
    (As a side note, workbench-based applications can also implement the Eclipse-specific interface
    <em>IApplication</em>).
  </p>
  <p>
    Before creating the Java code, we need a package.
    It's a good practice to name the main package in a bundle after the bundle id, so
    let's name the package <code>org.example.rap.helloworld</code>.
    In this package, we create a class named <code>EntryPoint</code> that implements
    <code>IEntryPoint</code>.
    In the method <code>createUI</code>, we add some SWT code.
    You can generate the skeleton of this code using an SWT template (type <em>main</em> and hit
    Ctrl+Space, then select the template named <em>mainloop</em>).
    In the example below, we added a Button with the text “Hello world!”:
  </p>
  <pre><code>  public class EntryPoint implements IEntryPoint {

    public int createUI() {
      Display display = new Display();
      Shell shell = new Shell( display );
      shell.setLayout( new GridLayout( 1, false ) );

      Button button = new Button( shell, SWT.PUSH );
      button.setText( "Hello world!" );

      shell.pack();
      shell.open();
      return 0;
    }
  }
</code></pre>
  <p>
    <strong>Note:</strong> This template will generate a couple more lines after the
    <code>shell.open()</code>, called the SWT <em>main loop</em>.
    You also find this code in SWT snippets.
    For workbench-based application, the main loop must be present, but for our simple applications,
    it must be <strong>removed</strong>
    (read about <a href="../advanced/application-setup.html">application setups</a> to understand
    the difference).
  </p>

  <h2>Launch the entrypoint</h2>
  <p>
    Now we can already launch this entrypoint using the RWT launcher.
    Select <em class="UILabel">Run As &gt; RWT Application</em> from the context menu of the
    entrypoint class.
    A browser view should open up soon afterwards and show your running application.
    More on launching RAP applications in the chapter
    <a href="./launcher.html">Launching RAP Applications</a>.
  </p>

  <h2>Complete the application</h2>
  <p>
    Until now, we only have a project with an entrypoint.
    To turn this into a complete application, the entrypoint must be registered so that the
    framework can find it.
    For a workbench application, this would be done using an extension.
    Leightweight OSGi applications register the entrypoint in their
    <a href="../advanced/application-configuration.html">application configuration</a>.
    These topics are covered in the part on application development.
  </p>

</body>
</html>
