<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="copyright" content="Copyright (c) 2012 EclipseSource. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."/>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Differences between RAP/RWT and SWT</title>
  <link rel="stylesheet" href="../../../../PRODUCT_PLUGIN/book.css" type="text/css"/>
</head>
<body>

  <h1>Differences between the RAP Widget Toolkit and SWT</h1>
  <p>
    RAP generally follows the rule “If it compiles, it works”. That means that all SWT API
    implemented in RWT is working within the requirements set by SWT. If an SWT feature is not
    implemented, the corresponding API is also missing. In some cases, SWT classes and methods are
    implemented as empty stubs in RWT to enable single-sourcing, but only where this is a valid
    implementation of the API.
    Examples are the Accessibility API or some SWT constants that are marked as <em>HINT</em>.
  </p>
  <p>
    RWT also provides some additional features that are not part of SWT.
    Partly, these are features related to web clients such as the browser history,
    partly enhancements of SWT widgets such as the HTML markup support in widgets.
    However, RWT does not add any new API to the classes adopted from SWT.
    All RWT features are accessible by API in the package <code>org.eclipse.rwt</code>.
    Many of the additional features are activated using the widget's <code>setData</code>
    method with a constant from the <code> RWT</code> class as the key, for example
    <code>table.setData( RWT.MARKUP_ENABLED, Boolean.TRUE )</code>.
  </p>

  <h2>Notable Additional Features</h2>
  <ul>
    <li style="margin-bottom:20px">
      <b>HTTP File Upload:</b> <code>FileUpload</code>
      <br/>
      Unlike SWT, RWT can not simply access the user's file system and read data from it.
      As an alternative, the <code>FileUpload</code> widget can be used. The widget looks like a
      button and will open the filepicker dialog of the user's browser. After a file has been
      selected, it can programmatically be send to any HTTP server.
      <br/>
      <b> Important:</b> The widget only allows <i>sending</i> the file to a given URL, it does
      not handle <i>receiving</i> it. If you require a complete solution for uploading and
      opening the file in your application, consider using the
      <a href="http://wiki.eclipse.org/RAP/Incubator/File_Upload">FileDialog</a>
      implementation based on the FileUpload widget.
    </li>

    <li style="margin-bottom:20px">
      <b>External Browser Windows:</b> <code>ExternalBrowser</code>
      <br/>
      This widget allows opening (and closing) a new browser window or tab to display content from
      a given URL.
      Note that depending on the browser configuration, this may be prevented by a popup-blocker.
      <!--
      The user's RAP session is not affected by this additional window.
      Unlike the <code>Browser</code> widget, the content of an external browser window can not
      communicate with the RAP application.
      ???
      -->
    </li>

    <li style="margin-bottom:20px">
      <b>Markup in Widgets:</b> <code>Label</code>, <code>CLabel</code>, <code>List</code>,
      <code>Tree</code> and <code>Table</code>
      <br/>
      Several widgets in RWT support a subset of HTML in their text property.
      The feature has to be activated using the constant <code>RWT.MARKUP_ENABLED</code>.
      This may require a custom item height, which can be set using
      <code>RWT.CUSTOM_ITEM_HEIGHT</code>.
      To achieve similar effects in SWT, the application would have to draw on the widget using a
      <code>PaintListener</code>, which is not supported in RWT except on Canvas.
    </li>

    <li style="margin-bottom:20px">
      <b>Fixed Columns:</b> <code>Tree</code> and <code>Table</code>
      <br/>
      When a table or tree displays many columns, the user often has to scroll horizontally to see
      specific data.
      Doing so means losing sight of the first columns, which may contain vital information that
      should be visible at all times.
      Using <code>RWT.FIXED_COLUMNS</code>, it is possible to exclude any number of leftmost
      columns from scrolling, so that they always stick on the left border of the tree or table.
    </li>

    <li style="margin-bottom:20px">
      <b>Theming:</b> All Widgets
      <br/>
      In SWT, the default visual representation of an widget is determined by the operating
      system. In RAP this is done by the
      <a href="../advanced/theming.html">theming</a>
      which can be adjusted by the developer using CSS.
      Since the RAP theming has more options to change the look of an widget than the SWT API
      offers, specific widget instances can also be themed with CSS using
      <a href="../advanced/theming.html#variants">custom variants</a>.
    </li>

    <li style="margin-bottom:20px">
      <b>Browser History Support:</b>
      <code>IBrowserHistory</code>
      <br/>
      RWT supports navigating within an application using the browser's <em>back</em> and
      <em>forward</em> buttons.
      Use <code>RWT.getBrowserHistory()</code> to access it.
      Note that there are known issues when using the browser history and the <code>Browser</code>
      widget in the same application.
    </li>

    <li style="margin-bottom:20px">
      <b>Multi-User Environment:</b> <code>ISettingsStore</code>, <code>IApplicationStore</code>,
      <code>ISessionStore</code>, <code>IServiceStore</code>, <code>SessionSingletonBase</code>
      <br/>
      Not directly related to the UI aspects of RWT, but a very important difference to SWT
      is that RWT operates in a multi-user environment.
      This topic has its own <a href="scopes.html">article</a>.
    </li>
  </ul>

  <h2>Notable Limitations</h2>
  <ul>

    <li style="margin-bottom:20px">
      <b>Unimplemented Features:</b> Touch Events, Accessibility
      <br/>
      While the API for touch event handling and accessibility configuration is present in RWT,
      it does not natively support either. This is a valid implementation according to the SWT
      documentation.
    </li>

    <li style="margin-bottom:20px">
      <b>Unimplemented Widgets:</b>
      <code>StyledText</code>, <code>Tracker</code>, <code>TaskBar</code>, <code>Tray</code>
      <br/>
      These widgets are currently not available in RWT.
    </li>

    <li style="margin-bottom:20px">
      <b>Drawing Limitations:</b> <code>GC</code>, <code>Canvas</code> and
      <code>PaintListener</code><br/>
      SWT can paint on any widget or image, while RAP currently only allows painting on the
      <code>Canvas</code> widget.
      In some cases the <code>drawText</code>, <code>drawString</code> and <code>drawImage</code>
      methods may disregard the drawing order and overlap elements that are drawn later.
      Some methods are unimplemented, including <code>copyArea</code>, <code>drawPath</code>,
      <code>setClipping</code>, <code>setTransform</code>, <code>setInterpolation</code>
      <code>setLineDash</code> and <code>setXORMode</code>.
      Performance and results of a drawing operations can differ depending on the browser.
      <!-- 
      See also Self-Drawing custom widget.
      ???
       -->
    </li>

    <li style="margin-bottom:20px">
      <b>Limitations in Dialogs:</b>
      <code>Dialog</code>, <code>ColorDialog</code>, <code>FontDialog</code>, <code>MessageBox</code>
      <br/>
      When using the
      <a href="../advanced/application-setup.html#compat">JEE compatibility mode</a>,
      opening a dialog does not block program execution.
      To obtain their return value, a callback must be registered using the RWT-specific class
      <a href="../reference/api/org/eclipse/rwt/application/Application.html#OperationMode"><code>DialogUtil</code></a>.
    </li>

    <li id="browser" style="margin-bottom:20px">
      <b>Limitations of the Browser widget</b>: <code>Browser</code>
      <br/>
      Since the <code>Browser</code> widget is based on the HTML <em>iframe</em> element,
      all security restrictions regarding cross-frame-scripting apply. This means for
      <code>execute()</code>, <code>evaluate()</code> and <code>BrowserFunction</code> to work,
      the document loaded in the <code>Browser</code> widget has to come from the
      same domain and port that the RAP application is loaded from. This is automatically given
      if the <code>setText</code> method is used.
      <br/>
      Also, when using the
      <a href="../advanced/application-setup.html#compat">JEE compatibility mode</a>,
      the <code>executeScript</code> and <code>evaluate</code> methods will not block program
      execution.
      Like with dialogs, a workaround is possible using the class
      <a href="../reference/api/org/eclipse/rwt/application/Application.html#OperationMode"><code>BrowserUtil</code></a>.
    </li>

    <li style="margin-bottom:20px">
      <b>Limitations in Mouse and Key Events:</b> <code>MouseEvent</code> and <code>KeyEvent</code>
      <br/>
      See <q><a href="key-and-mouse-events.html">Mouse and Key Event Handling in RAP</a></q>.
    </li>

    <li style="margin-bottom:20px">
      <b>Limitations in Verify and Modify Events:</b> <code>ModifyEvent</code>,
      <code>VerifyEvent</code>
      <br/>
      Modify and Verify events are not fired instantaneously, but with a small delay, possibly
      combining a number of changes into one event. Also, the values of the
      <code>VerifyEvent</code> fields <code>text</code>, <code>start</code> and <code>end</code>
      currently always report the entire text to have changed.
      The <a href="http://wiki.eclipse.org/RAP/ClientScripting">ClientScripting</a> was
      created specifically to provide an alternative.
    </li>

    <li style="margin-bottom:20px">
      <b>Limitations in Drag and Drop:</b>
      <code>DragSourceEvent</code>, <code>DropTargetEvent</code>
      <br/>
      In <code>DragSourceEvent</code>, the fields <code>image</code>, <code>offsetX</code> and
      <code>offsetY</code> have no effect. <code>DropTargetEvent</code>s may be omitted while the
      mouse cursor is still in motion.
    </li>

    <li style="margin-bottom:20px">
      <b>Limitations of syncExec and asyncExec:</b> <code>Display</code>
      <br/>
      When calling <code>Display#syncExec()</code> or <code>Display#asyncExec()</code> from a
      background-thread, the UI may not be updated immediately. This is due to the client-server
      architecture of RAP, in which only the client can send requests to the server.
      There is a solution for this provided by the class
      <a href="../reference/api/org/eclipse/rwt/lifecycle/UICallBack.html"><code>UICallBack</code></a>.
      Read more about it <a href="../advanced/server-push.html">here</a>.
      Note that as of RAP 1.5, <code>timerExec</code> does <em>not</em> require a UICallBack anymore
      (it uses UICallBack internally).
    </li>

  </ul>
</body>
</html>
